<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">

<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1"/>
  <meta name="generator" content="distill" />

  <style type="text/css">
  /* Hide doc at startup (prevent jankiness while JS renders/transforms) */
  body {
    visibility: hidden;
  }
  </style>

 <!--radix_placeholder_import_source-->
 <!--/radix_placeholder_import_source-->

<style type="text/css">code{white-space: pre;}</style>
<style type="text/css" data-origin="pandoc">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ad0000; } /* Alert */
code span.an { color: #5e5e5e; } /* Annotation */
code span.at { color: #20794d; } /* Attribute */
code span.bn { color: #ad0000; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007ba5; } /* ControlFlow */
code span.ch { color: #20794d; } /* Char */
code span.cn { color: #8f5902; } /* Constant */
code span.co { color: #5e5e5e; } /* Comment */
code span.cv { color: #5e5e5e; font-style: italic; } /* CommentVar */
code span.do { color: #5e5e5e; font-style: italic; } /* Documentation */
code span.dt { color: #ad0000; } /* DataType */
code span.dv { color: #ad0000; } /* DecVal */
code span.er { color: #ad0000; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #ad0000; } /* Float */
code span.fu { color: #4758ab; } /* Function */
code span.im { } /* Import */
code span.in { color: #5e5e5e; } /* Information */
code span.kw { color: #007ba5; } /* Keyword */
code span.op { color: #5e5e5e; } /* Operator */
code span.ot { color: #007ba5; } /* Other */
code span.pp { color: #ad0000; } /* Preprocessor */
code span.sc { color: #20794d; } /* SpecialChar */
code span.ss { color: #20794d; } /* SpecialString */
code span.st { color: #20794d; } /* String */
code span.va { color: #111111; } /* Variable */
code span.vs { color: #20794d; } /* VerbatimString */
code span.wa { color: #5e5e5e; font-style: italic; } /* Warning */
</style>

  <!--radix_placeholder_meta_tags-->
  <title>Visualizing sea surface temperature, chlorophyll, and wind in the Santa Barbara Channel</title>

  <meta property="description" itemprop="description" content="Interpretting marine processes by combining multiple data sets."/>


  <!--  https://schema.org/Article -->
  <meta property="article:published" itemprop="datePublished" content="2021-11-05"/>
  <meta property="article:created" itemprop="dateCreated" content="2021-11-05"/>
  <meta name="article:author" content="Juliet Cohen"/>

  <!--  https://developers.facebook.com/docs/sharing/webmasters#markup -->
  <meta property="og:title" content="Visualizing sea surface temperature, chlorophyll, and wind in the Santa Barbara Channel"/>
  <meta property="og:type" content="article"/>
  <meta property="og:description" content="Interpretting marine processes by combining multiple data sets."/>
  <meta property="og:locale" content="en_US"/>

  <!--  https://dev.twitter.com/cards/types/summary -->
  <meta property="twitter:card" content="summary"/>
  <meta property="twitter:title" content="Visualizing sea surface temperature, chlorophyll, and wind in the Santa Barbara Channel"/>
  <meta property="twitter:description" content="Interpretting marine processes by combining multiple data sets."/>

  <!--/radix_placeholder_meta_tags-->
  <!--radix_placeholder_rmarkdown_metadata-->

  <script type="text/json" id="radix-rmarkdown-metadata">
  {"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["title","description","author","date","output","preview","categories"]}},"value":[{"type":"character","attributes":{},"value":["Visualizing sea surface temperature, chlorophyll, and wind in the Santa Barbara Channel"]},{"type":"character","attributes":{},"value":["Interpretting marine processes by combining multiple data sets.\n"]},{"type":"list","attributes":{},"value":[{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","url"]}},"value":[{"type":"character","attributes":{},"value":["Juliet Cohen"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":[]}},"value":[]}]}]},{"type":"character","attributes":{},"value":["11-05-2021"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["distill::distill_article"]}},"value":[{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["self_contained"]}},"value":[{"type":"logical","attributes":{},"value":[false]}]}]},{"type":"character","attributes":{},"value":["Images/sst.png"]},{"type":"character","attributes":{},"value":["-R"]}]}
  </script>
  <!--/radix_placeholder_rmarkdown_metadata-->
  
  <script type="text/json" id="radix-resource-manifest">
  {"type":"character","attributes":{},"value":["Images/bembe.jpg","Images/channel_currents.png","Images/chlorophyll.png","Images/garibaldi.png","Images/me_and_bembe.jpg","Images/mola.png","Images/monthly_wind.png","Images/sst.png","sstchlorowind_files/anchor-4.2.2/anchor.min.js","sstchlorowind_files/bowser-1.9.3/bowser.min.js","sstchlorowind_files/distill-2.2.21/template.v2.js","sstchlorowind_files/header-attrs-2.10/header-attrs.js","sstchlorowind_files/jquery-1.11.3/jquery.min.js","sstchlorowind_files/popper-2.6.0/popper.min.js","sstchlorowind_files/tippy-6.2.7/tippy-bundle.umd.min.js","sstchlorowind_files/tippy-6.2.7/tippy-light-border.css","sstchlorowind_files/tippy-6.2.7/tippy.css","sstchlorowind_files/tippy-6.2.7/tippy.umd.min.js","sstchlorowind_files/webcomponents-2.0.0/webcomponents.js"]}
  </script>
  <!--radix_placeholder_navigation_in_header-->
  <!--/radix_placeholder_navigation_in_header-->
  <!--radix_placeholder_distill-->

  <style type="text/css">

  body {
    background-color: white;
  }

  .pandoc-table {
    width: 100%;
  }

  .pandoc-table>caption {
    margin-bottom: 10px;
  }

  .pandoc-table th:not([align]) {
    text-align: left;
  }

  .pagedtable-footer {
    font-size: 15px;
  }

  d-byline .byline {
    grid-template-columns: 2fr 2fr;
  }

  d-byline .byline h3 {
    margin-block-start: 1.5em;
  }

  d-byline .byline .authors-affiliations h3 {
    margin-block-start: 0.5em;
  }

  .authors-affiliations .orcid-id {
    width: 16px;
    height:16px;
    margin-left: 4px;
    margin-right: 4px;
    vertical-align: middle;
    padding-bottom: 2px;
  }

  d-title .dt-tags {
    margin-top: 1em;
    grid-column: text;
  }

  .dt-tags .dt-tag {
    text-decoration: none;
    display: inline-block;
    color: rgba(0,0,0,0.6);
    padding: 0em 0.4em;
    margin-right: 0.5em;
    margin-bottom: 0.4em;
    font-size: 70%;
    border: 1px solid rgba(0,0,0,0.2);
    border-radius: 3px;
    text-transform: uppercase;
    font-weight: 500;
  }

  d-article table.gt_table td,
  d-article table.gt_table th {
    border-bottom: none;
  }

  .html-widget {
    margin-bottom: 2.0em;
  }

  .l-screen-inset {
    padding-right: 16px;
  }

  .l-screen .caption {
    margin-left: 10px;
  }

  .shaded {
    background: rgb(247, 247, 247);
    padding-top: 20px;
    padding-bottom: 20px;
    border-top: 1px solid rgba(0, 0, 0, 0.1);
    border-bottom: 1px solid rgba(0, 0, 0, 0.1);
  }

  .shaded .html-widget {
    margin-bottom: 0;
    border: 1px solid rgba(0, 0, 0, 0.1);
  }

  .shaded .shaded-content {
    background: white;
  }

  .text-output {
    margin-top: 0;
    line-height: 1.5em;
  }

  .hidden {
    display: none !important;
  }

  d-article {
    padding-top: 2.5rem;
    padding-bottom: 30px;
  }

  d-appendix {
    padding-top: 30px;
  }

  d-article>p>img {
    width: 100%;
  }

  d-article h2 {
    margin: 1rem 0 1.5rem 0;
  }

  d-article h3 {
    margin-top: 1.5rem;
  }

  d-article iframe {
    border: 1px solid rgba(0, 0, 0, 0.1);
    margin-bottom: 2.0em;
    width: 100%;
  }

  /* Tweak code blocks */

  d-article div.sourceCode code,
  d-article pre code {
    font-family: Consolas, Monaco, 'Andale Mono', 'Ubuntu Mono', monospace;
  }

  d-article pre,
  d-article div.sourceCode,
  d-article div.sourceCode pre {
    overflow: auto;
  }

  d-article div.sourceCode {
    background-color: white;
  }

  d-article div.sourceCode pre {
    padding-left: 10px;
    font-size: 12px;
    border-left: 2px solid rgba(0,0,0,0.1);
  }

  d-article pre {
    font-size: 12px;
    color: black;
    background: none;
    margin-top: 0;
    text-align: left;
    white-space: pre;
    word-spacing: normal;
    word-break: normal;
    word-wrap: normal;
    line-height: 1.5;

    -moz-tab-size: 4;
    -o-tab-size: 4;
    tab-size: 4;

    -webkit-hyphens: none;
    -moz-hyphens: none;
    -ms-hyphens: none;
    hyphens: none;
  }

  d-article pre a {
    border-bottom: none;
  }

  d-article pre a:hover {
    border-bottom: none;
    text-decoration: underline;
  }

  d-article details {
    grid-column: text;
    margin-bottom: 0.8em;
  }

  @media(min-width: 768px) {

  d-article pre,
  d-article div.sourceCode,
  d-article div.sourceCode pre {
    overflow: visible !important;
  }

  d-article div.sourceCode pre {
    padding-left: 18px;
    font-size: 14px;
  }

  d-article pre {
    font-size: 14px;
  }

  }

  figure img.external {
    background: white;
    border: 1px solid rgba(0, 0, 0, 0.1);
    box-shadow: 0 1px 8px rgba(0, 0, 0, 0.1);
    padding: 18px;
    box-sizing: border-box;
  }

  /* CSS for d-contents */

  .d-contents {
    grid-column: text;
    color: rgba(0,0,0,0.8);
    font-size: 0.9em;
    padding-bottom: 1em;
    margin-bottom: 1em;
    padding-bottom: 0.5em;
    margin-bottom: 1em;
    padding-left: 0.25em;
    justify-self: start;
  }

  @media(min-width: 1000px) {
    .d-contents.d-contents-float {
      height: 0;
      grid-column-start: 1;
      grid-column-end: 4;
      justify-self: center;
      padding-right: 3em;
      padding-left: 2em;
    }
  }

  .d-contents nav h3 {
    font-size: 18px;
    margin-top: 0;
    margin-bottom: 1em;
  }

  .d-contents li {
    list-style-type: none
  }

  .d-contents nav > ul {
    padding-left: 0;
  }

  .d-contents ul {
    padding-left: 1em
  }

  .d-contents nav ul li {
    margin-top: 0.6em;
    margin-bottom: 0.2em;
  }

  .d-contents nav a {
    font-size: 13px;
    border-bottom: none;
    text-decoration: none
    color: rgba(0, 0, 0, 0.8);
  }

  .d-contents nav a:hover {
    text-decoration: underline solid rgba(0, 0, 0, 0.6)
  }

  .d-contents nav > ul > li > a {
    font-weight: 600;
  }

  .d-contents nav > ul > li > ul {
    font-weight: inherit;
  }

  .d-contents nav > ul > li > ul > li {
    margin-top: 0.2em;
  }


  .d-contents nav ul {
    margin-top: 0;
    margin-bottom: 0.25em;
  }

  .d-article-with-toc h2:nth-child(2) {
    margin-top: 0;
  }


  /* Figure */

  .figure {
    position: relative;
    margin-bottom: 2.5em;
    margin-top: 1.5em;
  }

  .figure img {
    width: 100%;
  }

  .figure .caption {
    color: rgba(0, 0, 0, 0.6);
    font-size: 12px;
    line-height: 1.5em;
  }

  .figure img.external {
    background: white;
    border: 1px solid rgba(0, 0, 0, 0.1);
    box-shadow: 0 1px 8px rgba(0, 0, 0, 0.1);
    padding: 18px;
    box-sizing: border-box;
  }

  .figure .caption a {
    color: rgba(0, 0, 0, 0.6);
  }

  .figure .caption b,
  .figure .caption strong, {
    font-weight: 600;
    color: rgba(0, 0, 0, 1.0);
  }

  /* Citations */

  d-article .citation {
    color: inherit;
    cursor: inherit;
  }

  div.hanging-indent{
    margin-left: 1em; text-indent: -1em;
  }

  /* Citation hover box */

  .tippy-box[data-theme~=light-border] {
    background-color: rgba(250, 250, 250, 0.95);
  }

  .tippy-content > p {
    margin-bottom: 0;
    padding: 2px;
  }


  /* Tweak 1000px media break to show more text */

  @media(min-width: 1000px) {
    .base-grid,
    distill-header,
    d-title,
    d-abstract,
    d-article,
    d-appendix,
    distill-appendix,
    d-byline,
    d-footnote-list,
    d-citation-list,
    distill-footer {
      grid-template-columns: [screen-start] 1fr [page-start kicker-start] 80px [middle-start] 50px [text-start kicker-end] 65px 65px 65px 65px 65px 65px 65px 65px [text-end gutter-start] 65px [middle-end] 65px [page-end gutter-end] 1fr [screen-end];
      grid-column-gap: 16px;
    }

    .grid {
      grid-column-gap: 16px;
    }

    d-article {
      font-size: 1.06rem;
      line-height: 1.7em;
    }
    figure .caption, .figure .caption, figure figcaption {
      font-size: 13px;
    }
  }

  @media(min-width: 1180px) {
    .base-grid,
    distill-header,
    d-title,
    d-abstract,
    d-article,
    d-appendix,
    distill-appendix,
    d-byline,
    d-footnote-list,
    d-citation-list,
    distill-footer {
      grid-template-columns: [screen-start] 1fr [page-start kicker-start] 60px [middle-start] 60px [text-start kicker-end] 60px 60px 60px 60px 60px 60px 60px 60px [text-end gutter-start] 60px [middle-end] 60px [page-end gutter-end] 1fr [screen-end];
      grid-column-gap: 32px;
    }

    .grid {
      grid-column-gap: 32px;
    }
  }


  /* Get the citation styles for the appendix (not auto-injected on render since
     we do our own rendering of the citation appendix) */

  d-appendix .citation-appendix,
  .d-appendix .citation-appendix {
    font-size: 11px;
    line-height: 15px;
    border-left: 1px solid rgba(0, 0, 0, 0.1);
    padding-left: 18px;
    border: 1px solid rgba(0,0,0,0.1);
    background: rgba(0, 0, 0, 0.02);
    padding: 10px 18px;
    border-radius: 3px;
    color: rgba(150, 150, 150, 1);
    overflow: hidden;
    margin-top: -12px;
    white-space: pre-wrap;
    word-wrap: break-word;
  }

  /* Include appendix styles here so they can be overridden */

  d-appendix {
    contain: layout style;
    font-size: 0.8em;
    line-height: 1.7em;
    margin-top: 60px;
    margin-bottom: 0;
    border-top: 1px solid rgba(0, 0, 0, 0.1);
    color: rgba(0,0,0,0.5);
    padding-top: 60px;
    padding-bottom: 48px;
  }

  d-appendix h3 {
    grid-column: page-start / text-start;
    font-size: 15px;
    font-weight: 500;
    margin-top: 1em;
    margin-bottom: 0;
    color: rgba(0,0,0,0.65);
  }

  d-appendix h3 + * {
    margin-top: 1em;
  }

  d-appendix ol {
    padding: 0 0 0 15px;
  }

  @media (min-width: 768px) {
    d-appendix ol {
      padding: 0 0 0 30px;
      margin-left: -30px;
    }
  }

  d-appendix li {
    margin-bottom: 1em;
  }

  d-appendix a {
    color: rgba(0, 0, 0, 0.6);
  }

  d-appendix > * {
    grid-column: text;
  }

  d-appendix > d-footnote-list,
  d-appendix > d-citation-list,
  d-appendix > distill-appendix {
    grid-column: screen;
  }

  /* Include footnote styles here so they can be overridden */

  d-footnote-list {
    contain: layout style;
  }

  d-footnote-list > * {
    grid-column: text;
  }

  d-footnote-list a.footnote-backlink {
    color: rgba(0,0,0,0.3);
    padding-left: 0.5em;
  }



  /* Anchor.js */

  .anchorjs-link {
    /*transition: all .25s linear; */
    text-decoration: none;
    border-bottom: none;
  }
  *:hover > .anchorjs-link {
    margin-left: -1.125em !important;
    text-decoration: none;
    border-bottom: none;
  }

  /* Social footer */

  .social_footer {
    margin-top: 30px;
    margin-bottom: 0;
    color: rgba(0,0,0,0.67);
  }

  .disqus-comments {
    margin-right: 30px;
  }

  .disqus-comment-count {
    border-bottom: 1px solid rgba(0, 0, 0, 0.4);
    cursor: pointer;
  }

  #disqus_thread {
    margin-top: 30px;
  }

  .article-sharing a {
    border-bottom: none;
    margin-right: 8px;
  }

  .article-sharing a:hover {
    border-bottom: none;
  }

  .sidebar-section.subscribe {
    font-size: 12px;
    line-height: 1.6em;
  }

  .subscribe p {
    margin-bottom: 0.5em;
  }


  .article-footer .subscribe {
    font-size: 15px;
    margin-top: 45px;
  }


  .sidebar-section.custom {
    font-size: 12px;
    line-height: 1.6em;
  }

  .custom p {
    margin-bottom: 0.5em;
  }

  /* Styles for listing layout (hide title) */
  .layout-listing d-title, .layout-listing .d-title {
    display: none;
  }

  /* Styles for posts lists (not auto-injected) */


  .posts-with-sidebar {
    padding-left: 45px;
    padding-right: 45px;
  }

  .posts-list .description h2,
  .posts-list .description p {
    font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen, Ubuntu, Cantarell, "Fira Sans", "Droid Sans", "Helvetica Neue", Arial, sans-serif;
  }

  .posts-list .description h2 {
    font-weight: 700;
    border-bottom: none;
    padding-bottom: 0;
  }

  .posts-list h2.post-tag {
    border-bottom: 1px solid rgba(0, 0, 0, 0.2);
    padding-bottom: 12px;
  }
  .posts-list {
    margin-top: 60px;
    margin-bottom: 24px;
  }

  .posts-list .post-preview {
    text-decoration: none;
    overflow: hidden;
    display: block;
    border-bottom: 1px solid rgba(0, 0, 0, 0.1);
    padding: 24px 0;
  }

  .post-preview-last {
    border-bottom: none !important;
  }

  .posts-list .posts-list-caption {
    grid-column: screen;
    font-weight: 400;
  }

  .posts-list .post-preview h2 {
    margin: 0 0 6px 0;
    line-height: 1.2em;
    font-style: normal;
    font-size: 24px;
  }

  .posts-list .post-preview p {
    margin: 0 0 12px 0;
    line-height: 1.4em;
    font-size: 16px;
  }

  .posts-list .post-preview .thumbnail {
    box-sizing: border-box;
    margin-bottom: 24px;
    position: relative;
    max-width: 500px;
  }
  .posts-list .post-preview img {
    width: 100%;
    display: block;
  }

  .posts-list .metadata {
    font-size: 12px;
    line-height: 1.4em;
    margin-bottom: 18px;
  }

  .posts-list .metadata > * {
    display: inline-block;
  }

  .posts-list .metadata .publishedDate {
    margin-right: 2em;
  }

  .posts-list .metadata .dt-authors {
    display: block;
    margin-top: 0.3em;
    margin-right: 2em;
  }

  .posts-list .dt-tags {
    display: block;
    line-height: 1em;
  }

  .posts-list .dt-tags .dt-tag {
    display: inline-block;
    color: rgba(0,0,0,0.6);
    padding: 0.3em 0.4em;
    margin-right: 0.2em;
    margin-bottom: 0.4em;
    font-size: 60%;
    border: 1px solid rgba(0,0,0,0.2);
    border-radius: 3px;
    text-transform: uppercase;
    font-weight: 500;
  }

  .posts-list img {
    opacity: 1;
  }

  .posts-list img[data-src] {
    opacity: 0;
  }

  .posts-more {
    clear: both;
  }


  .posts-sidebar {
    font-size: 16px;
  }

  .posts-sidebar h3 {
    font-size: 16px;
    margin-top: 0;
    margin-bottom: 0.5em;
    font-weight: 400;
    text-transform: uppercase;
  }

  .sidebar-section {
    margin-bottom: 30px;
  }

  .categories ul {
    list-style-type: none;
    margin: 0;
    padding: 0;
  }

  .categories li {
    color: rgba(0, 0, 0, 0.8);
    margin-bottom: 0;
  }

  .categories li>a {
    border-bottom: none;
  }

  .categories li>a:hover {
    border-bottom: 1px solid rgba(0, 0, 0, 0.4);
  }

  .categories .active {
    font-weight: 600;
  }

  .categories .category-count {
    color: rgba(0, 0, 0, 0.4);
  }


  @media(min-width: 768px) {
    .posts-list .post-preview h2 {
      font-size: 26px;
    }
    .posts-list .post-preview .thumbnail {
      float: right;
      width: 30%;
      margin-bottom: 0;
    }
    .posts-list .post-preview .description {
      float: left;
      width: 45%;
    }
    .posts-list .post-preview .metadata {
      float: left;
      width: 20%;
      margin-top: 8px;
    }
    .posts-list .post-preview p {
      margin: 0 0 12px 0;
      line-height: 1.5em;
      font-size: 16px;
    }
    .posts-with-sidebar .posts-list {
      float: left;
      width: 75%;
    }
    .posts-with-sidebar .posts-sidebar {
      float: right;
      width: 20%;
      margin-top: 60px;
      padding-top: 24px;
      padding-bottom: 24px;
    }
  }


  /* Improve display for browsers without grid (IE/Edge <= 15) */

  .downlevel {
    line-height: 1.6em;
    font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen, Ubuntu, Cantarell, "Fira Sans", "Droid Sans", "Helvetica Neue", Arial, sans-serif;
    margin: 0;
  }

  .downlevel .d-title {
    padding-top: 6rem;
    padding-bottom: 1.5rem;
  }

  .downlevel .d-title h1 {
    font-size: 50px;
    font-weight: 700;
    line-height: 1.1em;
    margin: 0 0 0.5rem;
  }

  .downlevel .d-title p {
    font-weight: 300;
    font-size: 1.2rem;
    line-height: 1.55em;
    margin-top: 0;
  }

  .downlevel .d-byline {
    padding-top: 0.8em;
    padding-bottom: 0.8em;
    font-size: 0.8rem;
    line-height: 1.8em;
  }

  .downlevel .section-separator {
    border: none;
    border-top: 1px solid rgba(0, 0, 0, 0.1);
  }

  .downlevel .d-article {
    font-size: 1.06rem;
    line-height: 1.7em;
    padding-top: 1rem;
    padding-bottom: 2rem;
  }


  .downlevel .d-appendix {
    padding-left: 0;
    padding-right: 0;
    max-width: none;
    font-size: 0.8em;
    line-height: 1.7em;
    margin-bottom: 0;
    color: rgba(0,0,0,0.5);
    padding-top: 40px;
    padding-bottom: 48px;
  }

  .downlevel .footnotes ol {
    padding-left: 13px;
  }

  .downlevel .base-grid,
  .downlevel .distill-header,
  .downlevel .d-title,
  .downlevel .d-abstract,
  .downlevel .d-article,
  .downlevel .d-appendix,
  .downlevel .distill-appendix,
  .downlevel .d-byline,
  .downlevel .d-footnote-list,
  .downlevel .d-citation-list,
  .downlevel .distill-footer,
  .downlevel .appendix-bottom,
  .downlevel .posts-container {
    padding-left: 40px;
    padding-right: 40px;
  }

  @media(min-width: 768px) {
    .downlevel .base-grid,
    .downlevel .distill-header,
    .downlevel .d-title,
    .downlevel .d-abstract,
    .downlevel .d-article,
    .downlevel .d-appendix,
    .downlevel .distill-appendix,
    .downlevel .d-byline,
    .downlevel .d-footnote-list,
    .downlevel .d-citation-list,
    .downlevel .distill-footer,
    .downlevel .appendix-bottom,
    .downlevel .posts-container {
    padding-left: 150px;
    padding-right: 150px;
    max-width: 900px;
  }
  }

  .downlevel pre code {
    display: block;
    border-left: 2px solid rgba(0, 0, 0, .1);
    padding: 0 0 0 20px;
    font-size: 14px;
  }

  .downlevel code, .downlevel pre {
    color: black;
    background: none;
    font-family: Consolas, Monaco, 'Andale Mono', 'Ubuntu Mono', monospace;
    text-align: left;
    white-space: pre;
    word-spacing: normal;
    word-break: normal;
    word-wrap: normal;
    line-height: 1.5;

    -moz-tab-size: 4;
    -o-tab-size: 4;
    tab-size: 4;

    -webkit-hyphens: none;
    -moz-hyphens: none;
    -ms-hyphens: none;
    hyphens: none;
  }

  .downlevel .posts-list .post-preview {
    color: inherit;
  }



  </style>

  <script type="application/javascript">

  function is_downlevel_browser() {
    if (bowser.isUnsupportedBrowser({ msie: "12", msedge: "16"},
                                   window.navigator.userAgent)) {
      return true;
    } else {
      return window.load_distill_framework === undefined;
    }
  }

  // show body when load is complete
  function on_load_complete() {

    // add anchors
    if (window.anchors) {
      window.anchors.options.placement = 'left';
      window.anchors.add('d-article > h2, d-article > h3, d-article > h4, d-article > h5');
    }


    // set body to visible
    document.body.style.visibility = 'visible';

    // force redraw for leaflet widgets
    if (window.HTMLWidgets) {
      var maps = window.HTMLWidgets.findAll(".leaflet");
      $.each(maps, function(i, el) {
        var map = this.getMap();
        map.invalidateSize();
        map.eachLayer(function(layer) {
          if (layer instanceof L.TileLayer)
            layer.redraw();
        });
      });
    }

    // trigger 'shown' so htmlwidgets resize
    $('d-article').trigger('shown');
  }

  function init_distill() {

    init_common();

    // create front matter
    var front_matter = $('<d-front-matter></d-front-matter>');
    $('#distill-front-matter').wrap(front_matter);

    // create d-title
    $('.d-title').changeElementType('d-title');

    // create d-byline
    var byline = $('<d-byline></d-byline>');
    $('.d-byline').replaceWith(byline);

    // create d-article
    var article = $('<d-article></d-article>');
    $('.d-article').wrap(article).children().unwrap();

    // move posts container into article
    $('.posts-container').appendTo($('d-article'));

    // create d-appendix
    $('.d-appendix').changeElementType('d-appendix');

    // flag indicating that we have appendix items
    var appendix = $('.appendix-bottom').children('h3').length > 0;

    // replace footnotes with <d-footnote>
    $('.footnote-ref').each(function(i, val) {
      appendix = true;
      var href = $(this).attr('href');
      var id = href.replace('#', '');
      var fn = $('#' + id);
      var fn_p = $('#' + id + '>p');
      fn_p.find('.footnote-back').remove();
      var text = fn_p.html();
      var dtfn = $('<d-footnote></d-footnote>');
      dtfn.html(text);
      $(this).replaceWith(dtfn);
    });
    // remove footnotes
    $('.footnotes').remove();

    // move refs into #references-listing
    $('#references-listing').replaceWith($('#refs'));

    $('h1.appendix, h2.appendix').each(function(i, val) {
      $(this).changeElementType('h3');
    });
    $('h3.appendix').each(function(i, val) {
      var id = $(this).attr('id');
      $('.d-contents a[href="#' + id + '"]').parent().remove();
      appendix = true;
      $(this).nextUntil($('h1, h2, h3')).addBack().appendTo($('d-appendix'));
    });

    // show d-appendix if we have appendix content
    $("d-appendix").css('display', appendix ? 'grid' : 'none');

    // localize layout chunks to just output
    $('.layout-chunk').each(function(i, val) {

      // capture layout
      var layout = $(this).attr('data-layout');

      // apply layout to markdown level block elements
      var elements = $(this).children().not('details, div.sourceCode, pre, script');
      elements.each(function(i, el) {
        var layout_div = $('<div class="' + layout + '"></div>');
        if (layout_div.hasClass('shaded')) {
          var shaded_content = $('<div class="shaded-content"></div>');
          $(this).wrap(shaded_content);
          $(this).parent().wrap(layout_div);
        } else {
          $(this).wrap(layout_div);
        }
      });


      // unwrap the layout-chunk div
      $(this).children().unwrap();
    });

    // remove code block used to force  highlighting css
    $('.distill-force-highlighting-css').parent().remove();

    // remove empty line numbers inserted by pandoc when using a
    // custom syntax highlighting theme
    $('code.sourceCode a:empty').remove();

    // load distill framework
    load_distill_framework();

    // wait for window.distillRunlevel == 4 to do post processing
    function distill_post_process() {

      if (!window.distillRunlevel || window.distillRunlevel < 4)
        return;

      // hide author/affiliations entirely if we have no authors
      var front_matter = JSON.parse($("#distill-front-matter").html());
      var have_authors = front_matter.authors && front_matter.authors.length > 0;
      if (!have_authors)
        $('d-byline').addClass('hidden');

      // article with toc class
      $('.d-contents').parent().addClass('d-article-with-toc');

      // strip links that point to #
      $('.authors-affiliations').find('a[href="#"]').removeAttr('href');

      // add orcid ids
      $('.authors-affiliations').find('.author').each(function(i, el) {
        var orcid_id = front_matter.authors[i].orcidID;
        if (orcid_id) {
          var a = $('<a></a>');
          a.attr('href', 'https://orcid.org/' + orcid_id);
          var img = $('<img></img>');
          img.addClass('orcid-id');
          img.attr('alt', 'ORCID ID');
          img.attr('src','data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA2ZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDo1N0NEMjA4MDI1MjA2ODExOTk0QzkzNTEzRjZEQTg1NyIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDozM0NDOEJGNEZGNTcxMUUxODdBOEVCODg2RjdCQ0QwOSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDozM0NDOEJGM0ZGNTcxMUUxODdBOEVCODg2RjdCQ0QwOSIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ1M1IE1hY2ludG9zaCI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOkZDN0YxMTc0MDcyMDY4MTE5NUZFRDc5MUM2MUUwNEREIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjU3Q0QyMDgwMjUyMDY4MTE5OTRDOTM1MTNGNkRBODU3Ii8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+84NovQAAAR1JREFUeNpiZEADy85ZJgCpeCB2QJM6AMQLo4yOL0AWZETSqACk1gOxAQN+cAGIA4EGPQBxmJA0nwdpjjQ8xqArmczw5tMHXAaALDgP1QMxAGqzAAPxQACqh4ER6uf5MBlkm0X4EGayMfMw/Pr7Bd2gRBZogMFBrv01hisv5jLsv9nLAPIOMnjy8RDDyYctyAbFM2EJbRQw+aAWw/LzVgx7b+cwCHKqMhjJFCBLOzAR6+lXX84xnHjYyqAo5IUizkRCwIENQQckGSDGY4TVgAPEaraQr2a4/24bSuoExcJCfAEJihXkWDj3ZAKy9EJGaEo8T0QSxkjSwORsCAuDQCD+QILmD1A9kECEZgxDaEZhICIzGcIyEyOl2RkgwAAhkmC+eAm0TAAAAABJRU5ErkJggg==');
          a.append(img);
          $(this).append(a);
        }
      });

      // hide elements of author/affiliations grid that have no value
      function hide_byline_column(caption) {
        $('d-byline').find('h3:contains("' + caption + '")').parent().css('visibility', 'hidden');
      }

      // affiliations
      var have_affiliations = false;
      for (var i = 0; i<front_matter.authors.length; ++i) {
        var author = front_matter.authors[i];
        if (author.affiliation !== "&nbsp;") {
          have_affiliations = true;
          break;
        }
      }
      if (!have_affiliations)
        $('d-byline').find('h3:contains("Affiliations")').css('visibility', 'hidden');

      // published date
      if (!front_matter.publishedDate)
        hide_byline_column("Published");

      // document object identifier
      var doi = $('d-byline').find('h3:contains("DOI")');
      var doi_p = doi.next().empty();
      if (!front_matter.doi) {
        // if we have a citation and valid citationText then link to that
        if ($('#citation').length > 0 && front_matter.citationText) {
          doi.html('Citation');
          $('<a href="#citation"></a>')
            .text(front_matter.citationText)
            .appendTo(doi_p);
        } else {
          hide_byline_column("DOI");
        }
      } else {
        $('<a></a>')
           .attr('href', "https://doi.org/" + front_matter.doi)
           .html(front_matter.doi)
           .appendTo(doi_p);
      }

       // change plural form of authors/affiliations
      if (front_matter.authors.length === 1) {
        var grid = $('.authors-affiliations');
        grid.children('h3:contains("Authors")').text('Author');
        grid.children('h3:contains("Affiliations")').text('Affiliation');
      }

      // remove d-appendix and d-footnote-list local styles
      $('d-appendix > style:first-child').remove();
      $('d-footnote-list > style:first-child').remove();

      // move appendix-bottom entries to the bottom
      $('.appendix-bottom').appendTo('d-appendix').children().unwrap();
      $('.appendix-bottom').remove();

      // hoverable references
      $('span.citation[data-cites]').each(function() {
        var refHtml = $('#ref-' + $(this).attr('data-cites')).html();
        window.tippy(this, {
          allowHTML: true,
          content: refHtml,
          maxWidth: 500,
          interactive: true,
          interactiveBorder: 10,
          theme: 'light-border',
          placement: 'bottom-start'
        });
      });

      // clear polling timer
      clearInterval(tid);

      // show body now that everything is ready
      on_load_complete();
    }

    var tid = setInterval(distill_post_process, 50);
    distill_post_process();

  }

  function init_downlevel() {

    init_common();

     // insert hr after d-title
    $('.d-title').after($('<hr class="section-separator"/>'));

    // check if we have authors
    var front_matter = JSON.parse($("#distill-front-matter").html());
    var have_authors = front_matter.authors && front_matter.authors.length > 0;

    // manage byline/border
    if (!have_authors)
      $('.d-byline').remove();
    $('.d-byline').after($('<hr class="section-separator"/>'));
    $('.d-byline a').remove();

    // remove toc
    $('.d-contents').remove();

    // move appendix elements
    $('h1.appendix, h2.appendix').each(function(i, val) {
      $(this).changeElementType('h3');
    });
    $('h3.appendix').each(function(i, val) {
      $(this).nextUntil($('h1, h2, h3')).addBack().appendTo($('.d-appendix'));
    });


    // inject headers into references and footnotes
    var refs_header = $('<h3></h3>');
    refs_header.text('References');
    $('#refs').prepend(refs_header);

    var footnotes_header = $('<h3></h3');
    footnotes_header.text('Footnotes');
    $('.footnotes').children('hr').first().replaceWith(footnotes_header);

    // move appendix-bottom entries to the bottom
    $('.appendix-bottom').appendTo('.d-appendix').children().unwrap();
    $('.appendix-bottom').remove();

    // remove appendix if it's empty
    if ($('.d-appendix').children().length === 0)
      $('.d-appendix').remove();

    // prepend separator above appendix
    $('.d-appendix').before($('<hr class="section-separator" style="clear: both"/>'));

    // trim code
    $('pre>code').each(function(i, val) {
      $(this).html($.trim($(this).html()));
    });

    // move posts-container right before article
    $('.posts-container').insertBefore($('.d-article'));

    $('body').addClass('downlevel');

    on_load_complete();
  }


  function init_common() {

    // jquery plugin to change element types
    (function($) {
      $.fn.changeElementType = function(newType) {
        var attrs = {};

        $.each(this[0].attributes, function(idx, attr) {
          attrs[attr.nodeName] = attr.nodeValue;
        });

        this.replaceWith(function() {
          return $("<" + newType + "/>", attrs).append($(this).contents());
        });
      };
    })(jQuery);

    // prevent underline for linked images
    $('a > img').parent().css({'border-bottom' : 'none'});

    // mark non-body figures created by knitr chunks as 100% width
    $('.layout-chunk').each(function(i, val) {
      var figures = $(this).find('img, .html-widget');
      if ($(this).attr('data-layout') !== "l-body") {
        figures.css('width', '100%');
      } else {
        figures.css('max-width', '100%');
        figures.filter("[width]").each(function(i, val) {
          var fig = $(this);
          fig.css('width', fig.attr('width') + 'px');
        });

      }
    });

    // auto-append index.html to post-preview links in file: protocol
    // and in rstudio ide preview
    $('.post-preview').each(function(i, val) {
      if (window.location.protocol === "file:")
        $(this).attr('href', $(this).attr('href') + "index.html");
    });

    // get rid of index.html references in header
    if (window.location.protocol !== "file:") {
      $('.distill-site-header a[href]').each(function(i,val) {
        $(this).attr('href', $(this).attr('href').replace("index.html", "./"));
      });
    }

    // add class to pandoc style tables
    $('tr.header').parent('thead').parent('table').addClass('pandoc-table');
    $('.kable-table').children('table').addClass('pandoc-table');

    // add figcaption style to table captions
    $('caption').parent('table').addClass("figcaption");

    // initialize posts list
    if (window.init_posts_list)
      window.init_posts_list();

    // implmement disqus comment link
    $('.disqus-comment-count').click(function() {
      window.headroom_prevent_pin = true;
      $('#disqus_thread').toggleClass('hidden');
      if (!$('#disqus_thread').hasClass('hidden')) {
        var offset = $(this).offset();
        $(window).resize();
        $('html, body').animate({
          scrollTop: offset.top - 35
        });
      }
    });
  }

  document.addEventListener('DOMContentLoaded', function() {
    if (is_downlevel_browser())
      init_downlevel();
    else
      window.addEventListener('WebComponentsReady', init_distill);
  });

  </script>

  <!--/radix_placeholder_distill-->
  <script src="sstchlorowind_files/header-attrs-2.10/header-attrs.js"></script>
  <script src="sstchlorowind_files/jquery-1.11.3/jquery.min.js"></script>
  <script src="sstchlorowind_files/popper-2.6.0/popper.min.js"></script>
  <link href="sstchlorowind_files/tippy-6.2.7/tippy.css" rel="stylesheet" />
  <link href="sstchlorowind_files/tippy-6.2.7/tippy-light-border.css" rel="stylesheet" />
  <script src="sstchlorowind_files/tippy-6.2.7/tippy.umd.min.js"></script>
  <script src="sstchlorowind_files/anchor-4.2.2/anchor.min.js"></script>
  <script src="sstchlorowind_files/bowser-1.9.3/bowser.min.js"></script>
  <script src="sstchlorowind_files/webcomponents-2.0.0/webcomponents.js"></script>
  <script src="sstchlorowind_files/distill-2.2.21/template.v2.js"></script>
  <!--radix_placeholder_site_in_header-->
  <!--/radix_placeholder_site_in_header-->


</head>

<body>

<!--radix_placeholder_front_matter-->

<script id="distill-front-matter" type="text/json">
{"title":"Visualizing sea surface temperature, chlorophyll, and wind in the Santa Barbara Channel","description":"Interpretting marine processes by combining multiple data sets.","authors":[{"author":"Juliet Cohen","authorURL":{},"affiliation":"&nbsp;","affiliationURL":"#","orcidID":""}],"publishedDate":"2021-11-05T00:00:00.000-07:00","citationText":"Cohen, 2021"}
</script>

<!--/radix_placeholder_front_matter-->
<!--radix_placeholder_navigation_before_body-->
<!--/radix_placeholder_navigation_before_body-->
<!--radix_placeholder_site_before_body-->
<!--/radix_placeholder_site_before_body-->

<div class="d-title">
<h1>Visualizing sea surface temperature, chlorophyll, and wind in the Santa Barbara Channel</h1>
<!--radix_placeholder_categories-->
<div class="dt-tags">
<div class="dt=tag">-R</div>
</div>
<!--/radix_placeholder_categories-->
<p><p>Interpretting marine processes by combining multiple data sets.</p></p>
</div>

<div class="d-byline">
  Juliet Cohen true 
  
<br/>11-05-2021
</div>

<div class="d-article">
<h2 id="the-santa-barbara-channel">The Santa Barbara Channel</h2>
<h3 id="a-basin-of-oceanic-data-just-waiting-to-be-analyzed">A basin of oceanic data just waiting to be analyzed</h3>
<p>The beautiful, biodiverse Santa Barbara coast is known for its sunny weather, gnarly swell, and unique geographic features. Among these are the four northern channel islands, Santa Cruz, Anacapa, Santa Rosa, and San Miguel, which reside between 12 and 27 miles off shore. The Santa Barbara Channel lies between these islands and the coastline, stretching from Los Angeles in the south to Pt. Conception in the north.</p>
<h3 id="ocean-currents">Ocean Currents</h3>
<p>This channel harbors a unique combination of ocean currents that causes heterogeneity in environmental conditions across the islands and circulates nutrients throughout the ocean depths in seaosnal patterns. The California current brings a cold swell from the Gulf of Alaska down the coast, providing ideal temporal conditions for black rockfish, sunflower sea otters, red abalone, and other creatures around San Miguel and Santa Rosa Islands. In contrast to the southeast-bound California Current is the northwest-bound Southern California Counter-current from Baja California. This warm, relatively nutrient-poor water supports different marine species such as spiny lobsters, moray eels, and damselfish such as California’s state fish: the Garibaldi. These species are more commonly found near the southeast islands (<a href="https://www.nps.gov/chis/learn/nature/currents-upwelling.htm">1: Channel Islands National Park</a>, <a href="https://www.nps.gov/articles/garibaldi.htm#:~:text=The%20Garibaldi%20is%20the%20California%20State%20fish%20and%20is%20protected%20from%20fishing.&amp;text=These%20fish%20mainly%20live%20in%20the%20kelp%20forest%20ecosystem.&amp;text=This%20species%20of%20damselfish%20inhabits,reefs%20and%20among%20kelp%20forests.">2: National Park Service</a>).</p>
<figure>
<img src="Images/channel_currents.png" alt="Santa Barbara Channel currents and all eight channel islands (from west to east): San Miguel Island, Santa Rosa Island, Santa Cruz Island, Anacapa Island, San Nicolas Island, Santa Barbara Island, Santa Catalina Island, San Clemente Island (1)." /><figcaption aria-hidden="true">Santa Barbara Channel currents and all eight channel islands (from west to east): San Miguel Island, Santa Rosa Island, Santa Cruz Island, Anacapa Island, San Nicolas Island, Santa Barbara Island, Santa Catalina Island, San Clemente Island (1).</figcaption>
</figure>
<figure>
<img src="Images/garibaldi.png" alt="A garibaldi fish (Hypsypops rubicundus), California’s state fish and a species found in the Santa Barbara Channel. This fish is protected from fishing, lives in kelp forest habitat, and males utilize red algae to build nests (2)" /><figcaption aria-hidden="true">A garibaldi fish (<em>Hypsypops rubicundus</em>), California’s state fish and a species found in the Santa Barbara Channel. This fish is protected from fishing, lives in kelp forest habitat, and males utilize red algae to build nests (2)</figcaption>
</figure>
<h3 id="marine-wildlife">Marine Wildlife</h3>
<p>This clashing current rendezvous turns the Santa Barbara Channel into a hotspot for biodiversity such as marine mammals like dolphins and whales, benthic invertebrates like purple urchins, plants such as giant kelp and and unique fish species such as the sunfish (the most majestic fish of all).</p>
<figure>
<img src="Images/mola.png" alt="A sunfish (Mola mola), the world’s largest bony fish, are found throughout the Santa Barbara Channel and are so large (up to 11 feet in length) can even be spotted by Channel Islands field crew members communting the to islands by helicopter. These atypical fish can even be found as far north as Alaska during El Nino years. These fish often bask nearly motionless near the ocean surface and sometimes breach the surface in an apparent attempt to rid their bodies of external parasites (3)." /><figcaption aria-hidden="true">A sunfish (<em>Mola mola</em>), the world’s largest bony fish, are found throughout the Santa Barbara Channel and are so large (up to 11 feet in length) can even be spotted by Channel Islands field crew members communting the to islands by helicopter. These atypical fish can even be found as far north as Alaska during El Nino years. These fish often bask nearly motionless near the ocean surface and sometimes breach the surface in an apparent attempt to rid their bodies of external parasites (3).</figcaption>
</figure>
<p>During late November through April, whale sightings are quite common in Santa Barbara. Thousands of Pacific gray whales migrate south towards the warm waters of Baja California and feed on krill in the channel along the way, which are tiny organisms that rely on oceanic chlorophyll blooms (4). We can detect chlorophyll and sea surface temperature via remote-sensing satellites. While trying to strategically determine the best time of year to spot these whales, we might want to consider the timing of these phytoplankton blooms. Do these blooms occur more often when we have warmer ocean temperatures? What time of year would that be, and does it align with the famous “whale season” known to be November through April? Is the ocean temperature impacted by wind? A few data-driven friends and I decided to combine data about wind, sea surface temperature, and chlorophyll in the Santa Barbara Channel to find the best time of year to go whale watching. My collaborators include Grace Lewin, Jake Eisaguirre, and Connor Flynn, good friends of mine from the Environmental Data Science program at the Bren School of Environmental Science and Management.</p>
<p>Question: How did wind speed affect sea surface temperature and chlorophyll in the Santa Barbara Channel during 2020?</p>
<h3 id="the-national-oceanic-atmospheric-administration-noaa">The National Oceanic Atmospheric Administration (NOAA)</h3>
<p><strong>Methods</strong></p>
<p>The National Oceanic Atmospheric Administration has the perfect datasets to help us out, and they even have a handy application programming interface (API) to do the heavy lifting for us. The NOAA Aquamodis Satellite data can be found <a href="https://coastwatch.pfeg.noaa.gov/erddap/griddap/erdMWsstd3day_LonPM180.graph?sst%5B(last)%5D%5B(0.0)%5D%5B(33.1125):(34.9)%5D%5B(-120.6625):(-118.875)%5D&amp;.draw=surface&amp;.vars=longitude%7Clatitude%7Csst&amp;.colorBar=%7C%7C%7C%7C%7C&amp;.bgColor=0xffccccff">here</a>.</p>
<p>The REDDAP API will import sea surface temperature and chlorophyll data directly from the NOAA Aquamodis Satellite. In addition, we manually pulled wind speed data from NOAA’s <a href="https://www.ndbc.noaa.gov/station_history.php?station=46053">East Buoy</a>, <a href="https://www.ndbc.noaa.gov/station_history.php?station=46054">West Buoy</a>, and the <a href="https://www.ndbc.noaa.gov/station_history.php?station=46025">Santa Monica Buoy</a> by downloading and decompressing the 2020 Standard Meteorological Data Files.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='kw'><a href='https://rdrr.io/r/base/library.html'>library</a></span><span class='op'>(</span><span class='va'><a href='https://docs.ropensci.org/rerddap/'>rerddap</a></span><span class='op'>)</span>
<span class='co'># used to load in the data from NOAA's website</span>
<span class='kw'><a href='https://rdrr.io/r/base/library.html'>library</a></span><span class='op'>(</span><span class='va'><a href='https://tidyverse.tidyverse.org'>tidyverse</a></span><span class='op'>)</span>
<span class='co'># used to clean and visualize data</span>
<span class='kw'><a href='https://rdrr.io/r/base/library.html'>library</a></span><span class='op'>(</span><span class='va'><a href='https://here.r-lib.org/'>here</a></span><span class='op'>)</span>
<span class='co'># used to read in the data from the current R project</span>
<span class='kw'><a href='https://rdrr.io/r/base/library.html'>library</a></span><span class='op'>(</span><span class='va'><a href='https://lubridate.tidyverse.org'>lubridate</a></span><span class='op'>)</span>
<span class='co'># use lubridate to work with datetimes (parsing dates and changing the class)</span>
</code></pre>
</div>
</div>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='co'># Read in Aqua Modis Data from their website</span>
<span class='kw'><a href='https://rdrr.io/r/base/library.html'>require</a></span><span class='op'>(</span><span class='st'><a href='https://docs.ropensci.org/rerddap/'>"rerddap"</a></span><span class='op'>)</span>

<span class='co'># Sea Surface Temperature for each Buoy</span>
<span class='va'>E_sst</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://docs.ropensci.org/rerddap/reference/griddap.html'>griddap</a></span><span class='op'>(</span><span class='st'>'erdMWsstd8day_LonPM180'</span>, <span class='co'># 8 day composite SST E_buoy</span>
 time <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>'2020-01-01T12:00:00Z'</span>,<span class='st'>'2021-01-01T12:00:00Z'</span><span class='op'>)</span>, <span class='co'># Full year time period 2020</span>
 latitude <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>34.0</span>, <span class='fl'>34.5</span><span class='op'>)</span>, <span class='co'>#grid surrounding buoy</span>
 longitude <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='op'>-</span><span class='fl'>119.5</span>, <span class='op'>-</span><span class='fl'>120</span><span class='op'>)</span>, <span class='co'>#grid surrounding buoy</span>
 fmt <span class='op'>=</span> <span class='st'>"csv"</span><span class='op'>)</span>  <span class='op'>%&gt;%</span> 
  <span class='fu'>add_column</span><span class='op'>(</span>location <span class='op'>=</span> <span class='st'>"east"</span><span class='op'>)</span> <span class='co'>#add ID column</span>

<span class='va'>W_sst</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://docs.ropensci.org/rerddap/reference/griddap.html'>griddap</a></span><span class='op'>(</span><span class='st'>'erdMWsstd8day_LonPM180'</span>, <span class='co'># 8 day composite SST W_buoy</span>
 time <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>'2020-01-01T12:00:00Z'</span>,<span class='st'>'2021-01-01T12:00:00Z'</span><span class='op'>)</span>, <span class='co'># Full year time period 2020</span>
 latitude <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>34.0</span>, <span class='fl'>34.5</span><span class='op'>)</span>, <span class='co'>#grid surrounding buoy</span>
 longitude <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='op'>-</span><span class='fl'>120</span>, <span class='op'>-</span><span class='fl'>120.5</span><span class='op'>)</span>, <span class='co'>#grid surrounding buoy</span>
 fmt <span class='op'>=</span> <span class='st'>"csv"</span><span class='op'>)</span> <span class='op'>%&gt;%</span> 
  <span class='fu'>add_column</span><span class='op'>(</span>location <span class='op'>=</span> <span class='st'>"west"</span><span class='op'>)</span> <span class='co'>#add ID column</span>

<span class='va'>SM_sst</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://docs.ropensci.org/rerddap/reference/griddap.html'>griddap</a></span><span class='op'>(</span><span class='st'>'erdMWsstd8day_LonPM180'</span>, <span class='co'># 8 day composite SST SM_buoy</span>
 time <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>'2020-01-01T12:00:00Z'</span>,<span class='st'>'2021-01-01T12:00:00Z'</span><span class='op'>)</span>, <span class='co'># Full year time period 2020</span>
 latitude <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>33.5</span>, <span class='fl'>34.0</span><span class='op'>)</span>, <span class='co'>#grid surrounding buoy</span>
 longitude <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='op'>-</span><span class='fl'>118.75</span>, <span class='op'>-</span><span class='fl'>119.25</span><span class='op'>)</span>, <span class='co'>#grid surrounding buoy</span>
 fmt <span class='op'>=</span> <span class='st'>"csv"</span><span class='op'>)</span> <span class='op'>%&gt;%</span>
  <span class='fu'>add_column</span><span class='op'>(</span>location <span class='op'>=</span> <span class='st'>"SM"</span><span class='op'>)</span> <span class='co'>#add ID column</span>

<span class='va'>sst</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/cbind.html'>rbind</a></span><span class='op'>(</span><span class='va'>E_sst</span>, <span class='va'>W_sst</span>, <span class='va'>SM_sst</span><span class='op'>)</span> <span class='co'>#bind data</span>

<span class='co'>#----------------------------------------------------------------------------------------</span>

<span class='co'># Chloro for each Buoy</span>
<span class='va'>E_chloro</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://docs.ropensci.org/rerddap/reference/griddap.html'>griddap</a></span><span class='op'>(</span><span class='st'>'erdMWchla8day_LonPM180'</span>,  <span class='co'># 8 day composite Chlorophyll E_buoy</span>
  time <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>'2020-01-01T12:00:00Z'</span>,<span class='st'>'2021-01-01T12:00:00Z'</span><span class='op'>)</span>, <span class='co'># Full year time period 2020</span>
  latitude <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>34.0</span>, <span class='fl'>34.5</span><span class='op'>)</span>, <span class='co'>#grid surrounding buoy</span>
  longitude <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='op'>-</span><span class='fl'>119.5</span>, <span class='op'>-</span><span class='fl'>120</span><span class='op'>)</span>, <span class='co'>#grid surrounding buoy</span>
  fmt <span class='op'>=</span> <span class='st'>"csv"</span><span class='op'>)</span> <span class='op'>%&gt;%</span> 
  <span class='fu'>add_column</span><span class='op'>(</span>location <span class='op'>=</span> <span class='st'>"east"</span><span class='op'>)</span> <span class='co'>#add location term</span>

<span class='va'>W_chloro</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://docs.ropensci.org/rerddap/reference/griddap.html'>griddap</a></span><span class='op'>(</span><span class='st'>'erdMWchla8day_LonPM180'</span>, <span class='co'># 8 day composite Chlorophyll E_buoy</span>
  time <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>'2020-01-01T12:00:00Z'</span>,<span class='st'>'2021-01-01T12:00:00Z'</span><span class='op'>)</span>, <span class='co'># Full year time period 2020</span>
  latitude <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>34.0</span>, <span class='fl'>34.5</span><span class='op'>)</span>, <span class='co'>#grid surrounding buoy</span>
  longitude <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='op'>-</span><span class='fl'>120</span>, <span class='op'>-</span><span class='fl'>120.5</span><span class='op'>)</span>, <span class='co'>#grid surrounding buoy</span>
  fmt <span class='op'>=</span> <span class='st'>"csv"</span><span class='op'>)</span> <span class='op'>%&gt;%</span> 
  <span class='fu'>add_column</span><span class='op'>(</span>location <span class='op'>=</span> <span class='st'>"west"</span><span class='op'>)</span> <span class='co'>#add location term</span>

<span class='va'>SM_chloro</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://docs.ropensci.org/rerddap/reference/griddap.html'>griddap</a></span><span class='op'>(</span><span class='st'>'erdMWchla8day_LonPM180'</span>, <span class='co'># 8 day composite Chlorophyll SM_buoy</span>
  time <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>'2020-01-01T12:00:00Z'</span>,<span class='st'>'2021-01-01T12:00:00Z'</span><span class='op'>)</span>, <span class='co'># Full year time period 2020</span>
  latitude <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>33.5</span>, <span class='fl'>34.0</span><span class='op'>)</span>, <span class='co'>#grid surrounding buoy</span>
  longitude <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='op'>-</span><span class='fl'>118.75</span>, <span class='op'>-</span><span class='fl'>119.25</span><span class='op'>)</span>, <span class='co'>#grid surrounding buoy</span>
  fmt <span class='op'>=</span> <span class='st'>"csv"</span><span class='op'>)</span><span class='op'>%&gt;%</span> 
  <span class='fu'>add_column</span><span class='op'>(</span>location <span class='op'>=</span> <span class='st'>"SM"</span><span class='op'>)</span> <span class='co'>#add location term</span>

<span class='va'>chloro</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/cbind.html'>rbind</a></span><span class='op'>(</span><span class='va'>E_chloro</span>, <span class='va'>W_chloro</span>, <span class='va'>SM_chloro</span><span class='op'>)</span> <span class='co'>#Bind data</span>

<span class='co'>#----------------------------------------------------------------------------------------</span>

<span class='co'># Wind data for each buoy and data cleaning</span>
<span class='va'>tab_E</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/utils/read.table.html'>read.table</a></span><span class='op'>(</span><span class='fu'><a href='https://here.r-lib.org//reference/here.html'>here</a></span><span class='op'>(</span><span class='st'>"data"</span>,<span class='st'>"east_wind.txt"</span><span class='op'>)</span>, comment<span class='op'>=</span><span class='st'>""</span>, header<span class='op'>=</span><span class='cn'>TRUE</span><span class='op'>)</span> <span class='co'>#convert .txt file to .csv</span>
<span class='fu'><a href='https://rdrr.io/r/utils/write.table.html'>write.csv</a></span><span class='op'>(</span><span class='va'>tab_E</span>, <span class='st'>"east_wind.csv"</span>, row.names<span class='op'>=</span><span class='cn'>F</span>, quote<span class='op'>=</span><span class='cn'>F</span><span class='op'>)</span>

<span class='va'>E_wind</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/utils/read.table.html'>read.csv</a></span><span class='op'>(</span><span class='fu'><a href='https://here.r-lib.org//reference/here.html'>here</a></span><span class='op'>(</span><span class='st'>"east_wind.csv"</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>%&gt;%</span> <span class='co'># read in .csv, select columns and rename</span>
  <span class='fu'>add_column</span><span class='op'>(</span>location <span class='op'>=</span> <span class='st'>"east"</span><span class='op'>)</span> <span class='op'>%&gt;%</span> 
  <span class='fu'>select</span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"X.YY"</span>, <span class='st'>"MM"</span>, <span class='st'>"DD"</span>, <span class='st'>"WSPD"</span>, <span class='st'>"location"</span><span class='op'>)</span><span class='op'>)</span>  <span class='op'>%&gt;%</span> 
  <span class='fu'>rename</span><span class='op'>(</span>year <span class='op'>=</span> <span class='va'>X.YY</span>,
         month <span class='op'>=</span> <span class='va'>MM</span>,
         day <span class='op'>=</span> <span class='va'>DD</span><span class='op'>)</span>
<span class='va'>E_wind</span> <span class='op'>&lt;-</span> <span class='va'>E_wind</span><span class='op'>[</span><span class='op'>-</span><span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>1</span><span class='op'>)</span>,<span class='op'>]</span>
  

<span class='va'>tab_W</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/utils/read.table.html'>read.table</a></span><span class='op'>(</span><span class='fu'><a href='https://here.r-lib.org//reference/here.html'>here</a></span><span class='op'>(</span><span class='st'>"data"</span>,<span class='st'>"west_wind.txt"</span><span class='op'>)</span>, comment<span class='op'>=</span><span class='st'>""</span>, header<span class='op'>=</span><span class='cn'>TRUE</span><span class='op'>)</span> <span class='co'>#convert .txt file to .csv</span>
<span class='fu'><a href='https://rdrr.io/r/utils/write.table.html'>write.csv</a></span><span class='op'>(</span><span class='va'>tab_W</span>, <span class='st'>"west_wind.csv"</span>, row.names<span class='op'>=</span><span class='cn'>F</span>, quote<span class='op'>=</span><span class='cn'>F</span><span class='op'>)</span>

<span class='va'>W_wind</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/utils/read.table.html'>read.csv</a></span><span class='op'>(</span><span class='fu'><a href='https://here.r-lib.org//reference/here.html'>here</a></span><span class='op'>(</span><span class='st'>"west_wind.csv"</span><span class='op'>)</span><span class='op'>)</span><span class='op'>%&gt;%</span> <span class='co'># read in .csv, select coloumns and rename</span>
  <span class='fu'>add_column</span><span class='op'>(</span>location <span class='op'>=</span> <span class='st'>"west"</span><span class='op'>)</span> <span class='op'>%&gt;%</span> 
  <span class='fu'>select</span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"X.YY"</span>, <span class='st'>"MM"</span>, <span class='st'>"DD"</span>, <span class='st'>"WSPD"</span>, <span class='st'>"location"</span><span class='op'>)</span><span class='op'>)</span>  <span class='op'>%&gt;%</span> 
  <span class='fu'>rename</span><span class='op'>(</span>year <span class='op'>=</span> <span class='va'>X.YY</span>,
         month <span class='op'>=</span> <span class='va'>MM</span>,
         day <span class='op'>=</span> <span class='va'>DD</span><span class='op'>)</span>
<span class='va'>W_wind</span> <span class='op'>&lt;-</span> <span class='va'>W_wind</span><span class='op'>[</span><span class='op'>-</span><span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>1</span><span class='op'>)</span>,<span class='op'>]</span>


<span class='va'>tab_SM</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/utils/read.table.html'>read.table</a></span><span class='op'>(</span><span class='fu'><a href='https://here.r-lib.org//reference/here.html'>here</a></span><span class='op'>(</span><span class='st'>"data"</span>,<span class='st'>"SM_wind.txt"</span><span class='op'>)</span>, comment<span class='op'>=</span><span class='st'>""</span>, header<span class='op'>=</span><span class='cn'>TRUE</span><span class='op'>)</span> <span class='co'>#convert .txt file to .csv</span>
<span class='fu'><a href='https://rdrr.io/r/utils/write.table.html'>write.csv</a></span><span class='op'>(</span><span class='va'>tab_SM</span>, <span class='st'>"SM_wind.csv"</span>, row.names<span class='op'>=</span><span class='cn'>F</span>, quote<span class='op'>=</span><span class='cn'>F</span><span class='op'>)</span>

<span class='va'>SM_wind</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/utils/read.table.html'>read.csv</a></span><span class='op'>(</span><span class='fu'><a href='https://here.r-lib.org//reference/here.html'>here</a></span><span class='op'>(</span><span class='st'>"SM_wind.csv"</span><span class='op'>)</span><span class='op'>)</span><span class='op'>%&gt;%</span> <span class='co'># read in .csv, select coloumns and rename</span>
  <span class='fu'>add_column</span><span class='op'>(</span>location <span class='op'>=</span> <span class='st'>"SM"</span><span class='op'>)</span> <span class='op'>%&gt;%</span> 
  <span class='fu'>select</span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"X.YY"</span>, <span class='st'>"MM"</span>, <span class='st'>"DD"</span>, <span class='st'>"WSPD"</span>, <span class='st'>"location"</span><span class='op'>)</span><span class='op'>)</span>  <span class='op'>%&gt;%</span> 
  <span class='fu'>rename</span><span class='op'>(</span>year <span class='op'>=</span> <span class='va'>X.YY</span>,
         month <span class='op'>=</span> <span class='va'>MM</span>,
         day <span class='op'>=</span> <span class='va'>DD</span><span class='op'>)</span>
<span class='va'>SM_wind</span> <span class='op'>&lt;-</span> <span class='va'>SM_wind</span><span class='op'>[</span><span class='op'>-</span><span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>1</span><span class='op'>)</span>,<span class='op'>]</span>

<span class='va'>wind</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/cbind.html'>rbind</a></span><span class='op'>(</span><span class='va'>E_wind</span>, <span class='va'>W_wind</span>, <span class='va'>SM_wind</span><span class='op'>)</span> <span class='co'>#bind data</span>
</code></pre>
</div>
</div>
<p>We averaged the wind by month rather than day, as we did for the other 2 variables, because the wind varies more each day by a large margin. Therefore, the wind data on a daily basis shows lots of noise and no interpretable trends. On a monthly scale, however, we can make sense of its broader fluctuations over the year.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='co'># clean date format and summarize with daily means for wind</span>

<span class='va'>wind</span> <span class='op'>&lt;-</span> <span class='va'>wind</span> <span class='op'>%&gt;%</span>
  <span class='fu'>unite</span><span class='op'>(</span><span class='st'>"date"</span>, <span class='va'>year</span><span class='op'>:</span><span class='va'>month</span><span class='op'>:</span><span class='va'>day</span>, sep <span class='op'>=</span> <span class='st'>"-"</span><span class='op'>)</span> <span class='op'>%&gt;%</span> 
  <span class='fu'>mutate</span><span class='op'>(</span>date <span class='op'>=</span> <span class='fu'><a href='https://lubridate.tidyverse.org/reference/ymd.html'>ymd</a></span><span class='op'>(</span><span class='va'>date</span>, tz <span class='op'>=</span> <span class='cn'>NULL</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>%&gt;%</span> 
  <span class='fu'>mutate</span><span class='op'>(</span>WSPD <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/numeric.html'>as.numeric</a></span><span class='op'>(</span><span class='va'>WSPD</span><span class='op'>)</span><span class='op'>)</span>

<span class='co'># see the data join chunk for na.rm explanation in code comment</span>

<span class='va'>wind_avg</span> <span class='op'>&lt;-</span> <span class='va'>wind</span> <span class='op'>%&gt;%</span> 
  <span class='fu'>group_by</span><span class='op'>(</span><span class='va'>location</span>, <span class='va'>date</span><span class='op'>)</span> <span class='op'>%&gt;%</span> 
  <span class='fu'>summarize</span><span class='op'>(</span>mean_wind <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/mean.html'>mean</a></span><span class='op'>(</span><span class='va'>WSPD</span>, na.rm <span class='op'>=</span> <span class='cn'>T</span><span class='op'>)</span><span class='op'>)</span>
</code></pre>
</div>
</div>
<p>Here we cleaned the remotely-sensed sea surface temperature data and summarized it by day:</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='co'># clean data for sst date</span>
<span class='va'>sst_clean</span> <span class='op'>&lt;-</span> <span class='va'>sst</span> <span class='op'>%&gt;%</span> 
  <span class='fu'>mutate</span><span class='op'>(</span>date <span class='op'>=</span> <span class='fu'><a href='https://lubridate.tidyverse.org/reference/ymd_hms.html'>ymd_hms</a></span><span class='op'>(</span><span class='va'>time</span>, tz <span class='op'>=</span> <span class='st'>"UTC"</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>%&gt;%</span> 
  <span class='fu'>mutate</span><span class='op'>(</span>ymd_date <span class='op'>=</span> <span class='fu'><a href='https://lubridate.tidyverse.org/reference/ymd.html'>ymd</a></span><span class='op'>(</span><span class='va'>date</span>, tz <span class='op'>=</span> <span class='cn'>NULL</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>%&gt;%</span> 
  <span class='fu'>mutate</span><span class='op'>(</span>date <span class='op'>=</span> <span class='va'>ymd_date</span><span class='op'>)</span> <span class='op'>%&gt;%</span> 
  <span class='fu'>select</span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"latitude"</span>, <span class='st'>"longitude"</span>, <span class='st'>"sst"</span>, <span class='st'>"location"</span>, <span class='st'>"date"</span><span class='op'>)</span><span class='op'>)</span>
</code></pre>
</div>
</div>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='co'># Clean sst Data and summarize by daily means</span>
<span class='va'>final_sst</span> <span class='op'>&lt;-</span> <span class='va'>sst_clean</span> <span class='op'>%&gt;%</span> 
  <span class='fu'><a href='https://rdrr.io/r/stats/filter.html'>filter</a></span><span class='op'>(</span><span class='va'>sst</span> <span class='op'>&gt;</span> <span class='fl'>0</span><span class='op'>)</span> <span class='op'>%&gt;%</span> <span class='co'>#remove NAs</span>
  <span class='fu'>mutate</span><span class='op'>(</span>sst <span class='op'>=</span> <span class='op'>(</span><span class='va'>sst</span> <span class='op'>*</span> <span class='op'>(</span><span class='fl'>9</span><span class='op'>/</span><span class='fl'>5</span><span class='op'>)</span> <span class='op'>+</span> <span class='fl'>32</span> <span class='op'>)</span><span class='op'>)</span> <span class='op'>%&gt;%</span> <span class='co'>#convert to F</span>
  <span class='fu'>mutate</span><span class='op'>(</span>sst <span class='op'>=</span> <span class='op'>(</span><span class='va'>sst</span> <span class='op'>-</span> <span class='fl'>3</span><span class='op'>)</span><span class='op'>)</span> <span class='co'>#accounting for SST satellite error through anecdotal and buoy comparison. Jake's field experience justifies this as he has consistently cross-referenced the satellite data with in situ measurements </span>

<span class='co'># see the data join chunk for na.rm explanation in code comment</span>

<span class='va'>final_sst_avg</span> <span class='op'>&lt;-</span> <span class='va'>final_sst</span> <span class='op'>%&gt;%</span> 
  <span class='fu'>group_by</span><span class='op'>(</span><span class='va'>location</span>, <span class='va'>date</span><span class='op'>)</span> <span class='op'>%&gt;%</span> 
  <span class='fu'>summarize</span><span class='op'>(</span>mean_sst <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/mean.html'>mean</a></span><span class='op'>(</span><span class='va'>sst</span>, na.rm <span class='op'>=</span> <span class='cn'>T</span><span class='op'>)</span><span class='op'>)</span>
</code></pre>
</div>
</div>
<p>Here we cleaned the remotely-sensed chlorophyll data and summarized it by day:</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='co'># clean chloro data</span>
<span class='co'># see the data join chunk for na.rm explanation in code comment</span>

<span class='va'>chloro_clean</span> <span class='op'>&lt;-</span> <span class='va'>chloro</span> <span class='op'>%&gt;%</span> 
  <span class='fu'>mutate</span><span class='op'>(</span>date <span class='op'>=</span> <span class='fu'><a href='https://lubridate.tidyverse.org/reference/ymd_hms.html'>ymd_hms</a></span><span class='op'>(</span><span class='va'>time</span>, tz <span class='op'>=</span> <span class='st'>"UTC"</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>%&gt;%</span> 
  <span class='fu'>mutate</span><span class='op'>(</span>ymd_date <span class='op'>=</span> <span class='fu'><a href='https://lubridate.tidyverse.org/reference/ymd.html'>ymd</a></span><span class='op'>(</span><span class='va'>date</span>, tz <span class='op'>=</span> <span class='cn'>NULL</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>%&gt;%</span> 
  <span class='fu'>mutate</span><span class='op'>(</span>date <span class='op'>=</span> <span class='va'>ymd_date</span><span class='op'>)</span> <span class='op'>%&gt;%</span> 
  <span class='fu'>select</span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"latitude"</span>, <span class='st'>"longitude"</span>, <span class='st'>"chlorophyll"</span>, <span class='st'>"location"</span>, <span class='st'>"date"</span><span class='op'>)</span><span class='op'>)</span>

<span class='va'>final_chloro_avg</span> <span class='op'>&lt;-</span> <span class='va'>chloro_clean</span> <span class='op'>%&gt;%</span> 
  <span class='fu'>group_by</span><span class='op'>(</span><span class='va'>location</span>, <span class='va'>date</span><span class='op'>)</span> <span class='op'>%&gt;%</span>
  <span class='fu'>summarize</span><span class='op'>(</span>mean_chloro <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/mean.html'>mean</a></span><span class='op'>(</span><span class='va'>chlorophyll</span>, na.rm <span class='op'>=</span> <span class='cn'>T</span><span class='op'>)</span><span class='op'>)</span>
</code></pre>
</div>
</div>
<p>We used inner_join() in 2 steps to combine the cleaned data from the 3 variables into one dataframe:</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='co'># combine daily wind and sst and chloro means</span>
<span class='co'># we decided to use inner join in order to not include any rows that lack values for ANY of the 3 variables. We do not want any NA values in one col and have data in another col, because when we map everything together that data would be represented as if there was a zero value for the variable that had NA. This change reduced the amount of rows by a couple hundred. This was primarily in the SST and cholorophyll data which had plenty of NA's but the wind data did not initially have NA's.</span>

<span class='va'>wind_sst</span> <span class='op'>&lt;-</span> <span class='fu'>inner_join</span><span class='op'>(</span><span class='va'>wind_avg</span>, <span class='va'>final_sst_avg</span>, by <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"date"</span>, <span class='st'>"location"</span><span class='op'>)</span><span class='op'>)</span>

<span class='va'>chloro_wind_sst</span> <span class='op'>&lt;-</span> <span class='fu'>inner_join</span><span class='op'>(</span><span class='va'>wind_sst</span>, <span class='va'>final_chloro_avg</span>, by <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"date"</span>, <span class='st'>"location"</span><span class='op'>)</span><span class='op'>)</span>
</code></pre>
</div>
</div>
<p>Now the fun part: visualization! We made 3 plots separated by variable, representing data from all 3 buoys. We marked the sea surface temperature maximum in all 3 plots since the combined data seems to reveal a temporal correlation between sea surface temperature and wind.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='co'># Daily Average Sea Surface Temperature from East, West, and Santa Monica Buoys</span>

<span class='fu'>ggplot</span><span class='op'>(</span>data <span class='op'>=</span> <span class='va'>chloro_wind_sst</span>, <span class='fu'>aes</span><span class='op'>(</span>x <span class='op'>=</span> <span class='va'>date</span>, y <span class='op'>=</span> <span class='va'>mean_sst</span>, color <span class='op'>=</span> <span class='va'>location</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>+</span>
  <span class='fu'>geom_line</span><span class='op'>(</span><span class='op'>)</span> <span class='op'>+</span>
  <span class='fu'>labs</span><span class='op'>(</span>x <span class='op'>=</span> <span class='st'>"Date"</span>,
       y <span class='op'>=</span> <span class='st'>"Daily Average Sea Surface Temperature (degC)"</span>,
       title <span class='op'>=</span> <span class='st'>"Daily Average Sea Surface Temperature from East, West, and Santa Monica Buoys"</span>,
       color <span class='op'>=</span> <span class='st'>"Location"</span><span class='op'>)</span>
</code></pre>
</div>
</div>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='co'># Monthly Average Wind from East, West, and Santa Monica Buoys</span>

<span class='va'>month_mean</span> <span class='op'>&lt;-</span> <span class='va'>chloro_wind_sst</span> <span class='op'>%&gt;%</span>
  <span class='fu'>select</span><span class='op'>(</span><span class='va'>location</span>, <span class='va'>date</span>, <span class='va'>mean_wind</span><span class='op'>)</span> <span class='op'>%&gt;%</span>
  <span class='fu'>mutate</span><span class='op'>(</span>month <span class='op'>=</span> <span class='fu'><a href='https://lubridate.tidyverse.org/reference/month.html'>month</a></span><span class='op'>(</span><span class='va'>date</span>, label <span class='op'>=</span> <span class='cn'>TRUE</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>%&gt;%</span>
  <span class='fu'>mutate</span><span class='op'>(</span>month <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/numeric.html'>as.numeric</a></span><span class='op'>(</span><span class='va'>month</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>%&gt;%</span> 
  <span class='fu'>group_by</span><span class='op'>(</span><span class='va'>location</span>, <span class='va'>month</span><span class='op'>)</span> <span class='op'>%&gt;%</span>
  <span class='fu'>summarize</span><span class='op'>(</span>mean_wind <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/mean.html'>mean</a></span><span class='op'>(</span><span class='va'>mean_wind</span>, na.rm <span class='op'>=</span> <span class='cn'>T</span><span class='op'>)</span><span class='op'>)</span> 

<span class='fu'>ggplot</span><span class='op'>(</span>data <span class='op'>=</span> <span class='va'>month_mean</span>, <span class='fu'>aes</span><span class='op'>(</span>x <span class='op'>=</span> <span class='va'>month</span>, y <span class='op'>=</span> <span class='va'>mean_wind</span>, color <span class='op'>=</span> <span class='va'>location</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>+</span>
  <span class='fu'>geom_line</span><span class='op'>(</span><span class='op'>)</span> <span class='op'>+</span>
  <span class='fu'>labs</span><span class='op'>(</span>x <span class='op'>=</span> <span class='st'>"Month"</span>,
       y <span class='op'>=</span> <span class='st'>"Monthly Average Wind Speed (knots)"</span>,
       title <span class='op'>=</span> <span class='st'>"Monthly Average Wind Speeds from East, West, and Santa Monica Buoys"</span>,
       color <span class='op'>=</span> <span class='st'>"Location"</span><span class='op'>)</span> <span class='op'>+</span>
  <span class='fu'><a href='https://rdrr.io/r/graphics/plot.window.html'>ylim</a></span><span class='op'>(</span><span class='fl'>0</span>,<span class='fl'>15</span><span class='op'>)</span> <span class='op'>+</span>
  <span class='fu'>scale_x_discrete</span><span class='op'>(</span>limits<span class='op'>=</span><span class='va'>month.abb</span><span class='op'>)</span>

<span class='co'># Daily Average Chorophyll from East, West, and Santa Monica Buoys</span>

<span class='fu'>ggplot</span><span class='op'>(</span>data <span class='op'>=</span> <span class='va'>chloro_wind_sst</span>, <span class='fu'>aes</span><span class='op'>(</span>x <span class='op'>=</span> <span class='va'>date</span>, y <span class='op'>=</span> <span class='va'>mean_chloro</span>, color <span class='op'>=</span> <span class='va'>location</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>+</span>
  <span class='fu'>geom_line</span><span class='op'>(</span><span class='op'>)</span> <span class='op'>+</span>
  <span class='fu'>labs</span><span class='op'>(</span>x <span class='op'>=</span> <span class='st'>"Date"</span>,
       y <span class='op'>=</span> <span class='st'>"Daily Average Chlorophyll (mg m^-3)"</span>,
       title <span class='op'>=</span> <span class='st'>"Daily Average Chlorophyll levels from East, West, and Santa Monica Buoys"</span>,
       color <span class='op'>=</span> <span class='st'>"Location"</span><span class='op'>)</span>
</code></pre>
</div>
</div>
<figure>
<img src="Images/monthly_wind.png" alt="Monthly wind in the Santa Barbara Channel in 2020, recorded by in-situ NOAA buoys" /><figcaption aria-hidden="true">Monthly wind in the Santa Barbara Channel in 2020, recorded by in-situ NOAA buoys</figcaption>
</figure>
<figure>
<img src="Images/sst.png" alt="Sea surface temperature in the Santa Barbara Channel in 2020, remotely sensed by satellites" /><figcaption aria-hidden="true">Sea surface temperature in the Santa Barbara Channel in 2020, remotely sensed by satellites</figcaption>
</figure>
<figure>
<img src="Images/chlorophyll.png" alt="Chlorophyll in the Santa Barbara Channel in 2020, remotely sensed by satellites" /><figcaption aria-hidden="true">Chlorophyll in the Santa Barbara Channel in 2020, remotely sensed by satellites</figcaption>
</figure>
<h3 id="interpretation">Interpretation</h3>
<p>In the Santa Barbara Channel, the wind peaks in July. This aligns with low chlorophyll levels and about average sea surface temperature.</p>
<p>The sea surface temperature peaked in October. This somewhat aligns with the start of the well-known whale watching season that spans from November to April. The whales are following warm water and food, after all!</p>
<p>The chlorophyll peaked in April. This aligns with the well-known whale watching season that spans from November to April. The data shows that we would have the best luck whale watching in Santa Barbara in April.</p>
<h4 id="acknowledgements">Acknowledgements</h4>
<ul>
<li>I would like to thank my exceptionally driven and creative team of collaborators on this project, Grace Lewin, Jake Eisaguirre, and Connor Flynn, good friends of mine from the Environmental Data Science program at the Bren School of Environmental Science and Management. Thank you for your support, resources, and all the time you put into this code and analysis.<br />
</li>
<li>Thank you to Julien Brun, a Senior Data Scientist at the <a href="https://www.nceas.ucsb.edu/">National Center for Ecological Analysis and Synthesis</a>, for teaching us about how to use API’s and locate and utilize metadata. He helped us with our data cleaning and wrangling throughout this project, and we admire him for his dedication to open-source science and teaching the next generation of data scientists to program in with reproducible habits.<br />
</li>
<li>Thank you to NOAA for providing the data that made this analysis possible and for providing an API to import it with ease.</li>
</ul>
<h4 id="references">References</h4>
<ol type="1">
<li><a href="https://www.nps.gov/chis/learn/nature/currents-upwelling.htm">Channel Islands National Park</a><br />
</li>
<li><a href="https://www.nps.gov/articles/garibaldi.htm#:~:text=The%20Garibaldi%20is%20the%20California%20State%20fish%20and%20is%20protected%20from%20fishing.&amp;text=These%20fish%20mainly%20live%20in%20the%20kelp%20forest%20ecosystem.&amp;text=This%20species%20of%20damselfish%20inhabits,reefs%20and%20among%20kelp%20forests.">National Park Service</a><br />
</li>
<li><a href="http://www.oceanlight.com/html/mola_mola.html">Ocean Sunfish</a><br />
</li>
<li><a href="https://santabarbaraca.com/plan-your-trip/outdoor-recreation/whale-watching/">Santa Barbara: The American Riveria</a><br />
</li>
<li><a href="https://coastwatch.pfeg.noaa.gov/erddap/griddap/erdMWsstd3day_LonPM180.graph?sst%5B(last)%5D%5B(0.0)%5D%5B(33.1125):(34.9)%5D%5B(-120.6625):(-118.875)%5D&amp;.draw=surface&amp;.vars=longitude%7Clatitude%7Csst&amp;.colorBar=%7C%7C%7C%7C%7C&amp;.bgColor=0xffccccff">NOAA Aquamodis Satellite</a><br />
</li>
</ol>
<ul>
<li><a href="https://coastwatch.pfeg.noaa.gov/erddap/info/erdMWsstd3day_LonPM180/index.html">NOAA Aquamodis Satellite metadata</a><br />
</li>
</ul>
<ol start="6" type="1">
<li><a href="https://www.ndbc.noaa.gov/station_history.php?station=46053">East Buoy</a><br />
</li>
</ol>
<ul>
<li><a href="https://www.ndbc.noaa.gov/measdes.shtml">East Buoy metadata</a><br />
</li>
</ul>
<ol start="7" type="1">
<li><a href="https://www.ndbc.noaa.gov/station_history.php?station=46054">West Buoy</a><br />
</li>
</ol>
<ul>
<li><a href="https://www.ndbc.noaa.gov/measdes.shtml">West Buoy Metadata</a><br />
</li>
</ul>
<ol start="8" type="1">
<li><a href="https://www.ndbc.noaa.gov/station_history.php?station=46025">Santa Monica Buoy</a><br />
</li>
</ol>
<ul>
<li><a href="https://www.ndbc.noaa.gov/measdes.shtml">Santa Monica Buoy Metadata</a></li>
</ul>
<p>Distill is a publication format for scientific and technical writing, native to the web.</p>
<p>Learn more about using Distill at <a href="https://rstudio.github.io/distill" class="uri">https://rstudio.github.io/distill</a>.</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r distill-force-highlighting-css"><code class="sourceCode r"></code></pre></div>
<!--radix_placeholder_article_footer-->
<!--/radix_placeholder_article_footer-->
</div>

<div class="d-appendix">
</div>


<!--radix_placeholder_site_after_body-->
<!--/radix_placeholder_site_after_body-->
<!--radix_placeholder_appendices-->
<div class="appendix-bottom"></div>
<!--/radix_placeholder_appendices-->
<!--radix_placeholder_navigation_after_body-->
<!--/radix_placeholder_navigation_after_body-->

</body>

</html>
